<!-- v0.1.10 -->  
<html>
	<head>
		<title> SceneViewer </title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="demo-styles.css">

	<!-- The following libraries and polyfills are recommended to maximize browser support -->
	<!-- ðŸš¨ REQUIRED: Web Components polyfill to support Edge and Firefox < 63 -->
	<script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js"></script>

	<!-- ðŸ’ OPTIONAL: Intersection Observer polyfill for better performance in Safari and IE11 -->
	<script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>

	<!-- ðŸ’ OPTIONAL: Resize Observer polyfill improves resize behavior in non-Chrome browsers -->
	<script src="https://unpkg.com/resize-observer-polyfill@1.5.0/dist/ResizeObserver.js"></script>

	<!-- ðŸ’ OPTIONAL: Fullscreen polyfill is needed to fully support AR features -->
	<script src="https://unpkg.com/fullscreen-polyfill@1.0.2/dist/fullscreen.polyfill.js"></script>
		
		<script src="https://dky5neca2x8co.cloudfront.net/model-viewer-public/timeme.js"></script>

	<!-- Import the component -->
	<script src="https://dky5neca2x8co.cloudfront.net/model-viewer-public/model-viewer.js"></script>
	<script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
	<script>

		// action to perform when the user clicks the custom button
		function doThis(){
			window.open("https://www.barringtongifts.com/catalog/product/view/id/3593/s/bb726-265-1525850283/",'_blank');
		}


		// handle ios part
		document.addEventListener("DOMContentLoaded", function(){
			const linkElement = document.getElementById('mv').shadowRoot;
			console.log(linkElement);

			// linkElement.getElementById('ar-button').addEventListener("message", function (event) {
			linkElement.getElementById('default-ar-button').addEventListener("message", function (event) {
				if (event.data == "_apple_ar_quicklook_button_tapped") {
						// handle the user tap.
						doThis();
				}
			}, false);
		});


	</script>
	</head>
	<body>
	<div class="card">
	
	<div class="card">
	<model-viewer
		ar
		alt="ryft-helmet"
		src="ryft.glb"
  	ios-src="ryft.usdz"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >
	</model-viewer>
	</div>
		
	
	<!--
	<div class="card">
	<model-viewer
		ar
		alt="Reality File Test"
	  	ios-src="test-laptop.reality"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >
	</model-viewer>
	</div>
	-->
	</body>
</html>
