<!-- v0.1.10 -->  
<html>
	<head>
		<title> SceneViewer </title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="demo-styles.css">

	<!-- The following libraries and polyfills are recommended to maximize browser support -->
	<!-- 🚨 REQUIRED: Web Components polyfill to support Edge and Firefox < 63 -->
	<script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js"></script>

	<!-- 💁 OPTIONAL: Intersection Observer polyfill for better performance in Safari and IE11 -->
	<script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>

	<!-- 💁 OPTIONAL: Resize Observer polyfill improves resize behavior in non-Chrome browsers -->
	<script src="https://unpkg.com/resize-observer-polyfill@1.5.0/dist/ResizeObserver.js"></script>

	<!-- 💁 OPTIONAL: Fullscreen polyfill is needed to fully support AR features -->
	<script src="https://unpkg.com/fullscreen-polyfill@1.0.2/dist/fullscreen.polyfill.js"></script>

	<!-- Import the component -->
	<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js"></script>
	<script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
	<script>

		// action to perform when the user clicks the custom button
		function doThis(){
			window.open("https://www.barringtongifts.com/catalog/product/view/id/3593/s/bb726-265-1525850283/",'_blank');
		}


		// handle ios part
		document.addEventListener("DOMContentLoaded", function(){
			const linkElement = document.getElementById('mv').shadowRoot;
			console.log(linkElement);

			// linkElement.getElementById('ar-button').addEventListener("message", function (event) {
			linkElement.getElementById('default-ar-button').addEventListener("message", function (event) {
				if (event.data == "_apple_ar_quicklook_button_tapped") {
						// handle the user tap.
						doThis();
				}
			}, false);
		});


	</script>
	</head>
	<body>
	<div class="card">
	<model-viewer
		ar
		alt="Breakfast Wrap"
		src="bfast-wrap.glb"
  	ios-src="medwh_wrap_v6.usdz"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >
	</model-viewer>
	</div>

	<div class="card">
	<model-viewer
		ar
		alt="Furniture"
		src="furniture_yellow.glb"
  	ios-src="furniture-yellow.usdz"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >
	</model-viewer>
	</div>

	<div class="card">
	<model-viewer
		ar
		alt="Timberland Boot"
		src="Timberland_GLB.glb"
		ios-src="timberland-v1.usdz"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >
	</model-viewer>
	</div>

	<div class="card">
	<model-viewer
		ar
		alt="Hand-made Scarf"
		src="KoreanHandmade_GLB.glb"
  	ios-src="koreanhandmade-v3.usdz"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >
	</model-viewer>
	</div>

	<div class="card">
	<model-viewer
		id="mv"
		ar
		alt="Barrington Bag"
		src="bag_gltf_50cm.glb"
  	ios-src="bag_obj_50cm.usdz#custom=button-for-quicklook.html&customHeight=small"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >

		<button slot="ar-button" id="ar-button">
			View in your space
		</button>
		<!-- <div class="slider">
	    <div class="slides"> -->
		<button class="slide" id="buy-button" onclick="doThis()"> Buy</button>
			<!-- </div>
		</div> -->
	</model-viewer>
	</div>

	<div class="card">
	<model-viewer
		      ar
		autoplay
		alt="AE-test"
		src="https://modelviewer-qreal.s3.amazonaws.com/ae-site/models/skinny_jeans/WomensJeans_GLB_x0.65_X.glb"
		ios-src="http://dky5neca2x8co.cloudfront.net/Goorin/Public/TheDoctorRust_X.usdz"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >
	</model-viewer>
	</div>
	<!--
	<div class="card">
	<model-viewer
		ar
		alt="Reality File Test"
	  	ios-src="test-laptop.reality"
		background-color="#F4F4F4"
		environment-image="env/BLUR.hdr"
		stage-light-intensity="1"
		exposure="1"
		camera-controls
		interaction-prompt="auto"
		      >
	</model-viewer>
	</div>
	-->
	</body>
</html>
